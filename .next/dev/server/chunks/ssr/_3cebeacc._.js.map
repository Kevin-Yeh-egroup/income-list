{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/upload-page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';\r\nimport { Upload, FileText, Calculator, User } from 'lucide-react';\r\n\r\ninterface UploadPageProps {\r\n  onFileSelect: (file: File | null) => void;\r\n}\r\n\r\nexport default function UploadPage({ onFileSelect }: UploadPageProps) {\r\n  const handleClick = () => {\r\n    // 直接執行，不需要選擇檔案\r\n    onFileSelect(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen px-4\">\r\n      <Card className=\"w-full max-w-md p-8 border border-border shadow-lg\">\r\n        <div className=\"flex flex-col items-center gap-6\">\r\n          {/* Header */}\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-3xl font-bold text-foreground mb-2\">所得清單辨識</h1>\r\n            <p className=\"text-muted-foreground\">自動辨識所得清單並計算稅務資訊</p>\r\n          </div>\r\n\r\n          {/* Icon */}\r\n          <div className=\"bg-primary/10 p-6 rounded-full\">\r\n            <Upload className=\"w-12 h-12 text-primary\" />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div className=\"text-center space-y-2\">\r\n            <p className=\"text-foreground font-medium\">所得清單辨識系統</p>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              點選下方按鈕開始辨識所得清單，系統將自動解析並計算稅務資訊\r\n            </p>\r\n          </div>\r\n\r\n          {/* Upload Button */}\r\n          <Button\r\n            onClick={handleClick}\r\n            size=\"lg\"\r\n            className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground\"\r\n          >\r\n            開始辨識\r\n          </Button>\r\n\r\n          {/* Info */}\r\n          <div className=\"text-xs text-muted-foreground text-center p-4 bg-muted/30 rounded-lg\">\r\n            <p>支援格式：PDF、Excel、CSV、TXT</p>\r\n            <p>檔案大小：不超過 50MB</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAWe,SAAS,WAAW,EAAE,YAAY,EAAmB;IAClE,MAAM,cAAc;QAClB,eAAe;QACf,aAAa;IACf;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAIvC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,gNAAM;4BAAC,WAAU;;;;;;;;;;;kCAIpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAM/C,8OAAC,qIAAM;wBACL,SAAS;wBACT,MAAK;wBACL,WAAU;kCACX;;;;;;kCAKD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAE;;;;;;0CACH,8OAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/loading-page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Card } from '@/components/ui/card';\r\n\r\nexport default function LoadingPage() {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // 在5秒內模擬進度增長\r\n    const interval = setInterval(() => {\r\n      setProgress((prev) => {\r\n        if (prev >= 100) {\r\n          clearInterval(interval);\r\n          return 100;\r\n        }\r\n        return prev + Math.random() * 25;\r\n      });\r\n    }, 400);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen px-4\">\r\n      <Card className=\"w-full max-w-md p-8 border border-border shadow-lg\">\r\n        <div className=\"flex flex-col items-center gap-6\">\r\n          {/* Header */}\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-2xl font-bold text-foreground\">正在讀取中</h2>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">解析所得清單...</p>\r\n          </div>\r\n\r\n          {/* Animated Spinner */}\r\n          <div className=\"relative w-16 h-16\">\r\n            <div className=\"absolute inset-0 rounded-full border-4 border-muted\"></div>\r\n            <div\r\n              className=\"absolute inset-0 rounded-full border-4 border-transparent border-t-primary border-r-primary animate-spin\"\r\n              style={{\r\n                animation: 'spin 2s linear infinite',\r\n              }}\r\n            ></div>\r\n          </div>\r\n\r\n          {/* Progress Text */}\r\n          <div className=\"w-full\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n              <span className=\"text-sm font-medium text-foreground\">進度</span>\r\n              <span className=\"text-sm font-semibold text-primary\">\r\n                {Math.round(progress)}%\r\n              </span>\r\n            </div>\r\n            <div className=\"w-full bg-muted rounded-full h-2 overflow-hidden\">\r\n              <div\r\n                className=\"bg-primary h-full transition-all duration-300 rounded-full\"\r\n                style={{ width: `${progress}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Messages */}\r\n          <div className=\"text-center text-xs text-muted-foreground space-y-1\">\r\n            <p>✓ 檔案讀取中</p>\r\n            <p>⏳ 辨識所得項目中</p>\r\n            <p>⏳ 計算稅務資訊中</p>\r\n            <p>準備顯示結果...</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,aAAa;QACb,MAAM,WAAW,YAAY;YAC3B,YAAY,CAAC;gBACX,IAAI,QAAQ,KAAK;oBACf,cAAc;oBACd,OAAO;gBACT;gBACA,OAAO,OAAO,KAAK,MAAM,KAAK;YAChC;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,qBACE,8OAAC;kDAAc;;0BACb,8OAAC,iIAAI;gBAAC,WAAU;0BACd,cAAA,8OAAC;8DAAc;;sCAEb,8OAAC;sEAAc;;8CACb,8OAAC;8EAAa;8CAAqC;;;;;;8CACnD,8OAAC;8EAAY;8CAAqC;;;;;;;;;;;;sCAIpD,8OAAC;sEAAc;;8CACb,8OAAC;8EAAc;;;;;;8CACf,8OAAC;oCAEC,OAAO;wCACL,WAAW;oCACb;8EAHU;;;;;;;;;;;;sCAQd,8OAAC;sEAAc;;8CACb,8OAAC;8EAAc;;sDACb,8OAAC;sFAAe;sDAAsC;;;;;;sDACtD,8OAAC;sFAAe;;gDACb,KAAK,KAAK,CAAC;gDAAU;;;;;;;;;;;;;8CAG1B,8OAAC;8EAAc;8CACb,cAAA,8OAAC;wCAEC,OAAO;4CAAE,OAAO,GAAG,SAAS,CAAC,CAAC;wCAAC;kFADrB;;;;;;;;;;;;;;;;;sCAOhB,8OAAC;sEAAc;;8CACb,8OAAC;;8CAAE;;;;;;8CACH,8OAAC;;8CAAE;;;;;;8CACH,8OAAC;;8CAAE;;;;;;8CACH,8OAAC;;8CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBf"}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/ui/table.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn('w-full caption-bottom text-sm', className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn('[&_tr]:border-b', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn('[&_tr:last-child]:border-0', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'caption'>) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/lib/income-types.ts"],"sourcesContent":["// 所得清單類型定義\r\n\r\nexport interface IncomeItem {\r\n  // 類別（如：固定薪資、兼職所得等）\r\n  category: string;\r\n  // 格式註記/代號（如：50, 9B等）\r\n  formatCode: string;\r\n  // 給付總額\r\n  totalAmount: number;\r\n  // 所得人姓名\r\n  recipientName: string;\r\n  // 所得額\r\n  incomeAmount: number;\r\n  // 扣繳單位名稱\r\n  withholdingUnit: string;\r\n  // 扣繳稅額（如果有提供）\r\n  withholdingTax?: number;\r\n  // 預估總收入（根據稅率回推）\r\n  estimatedTotalIncome?: number;\r\n}\r\n\r\n// 所得類別代號對照表\r\nexport const INCOME_CATEGORIES = {\r\n  // 50 類：薪資所得（含兼職、鐘點、津貼、補助）\r\n  '固定薪資': '50',\r\n  '兼職所得': '50',\r\n  '兼職費': '50',\r\n  '鐘點費': '50',\r\n  '授課鐘點費': '50',\r\n  '工讀費': '50',\r\n  '工讀獎助金': '50',\r\n  '工作酬勞': '50',\r\n  '日支費': '50',\r\n  '出席費': '50',\r\n  '各類津貼': '50',\r\n  '主管津貼': '50',\r\n  '生育補助': '50',\r\n  '結婚補助': '50',\r\n  '眷屬喪葬補助': '50',\r\n  '員工健檢補助': '50',\r\n  '助學金': '50',\r\n  '獎助學金': '50',\r\n  '研究津貼': '50',\r\n  '社團指導費': '50',\r\n  '教材編撰費': '50',\r\n  '課程規劃費': '50',\r\n  '顧問費': '50',\r\n  '諮詢費': '50',\r\n  '管理費': '50',\r\n  '教學研究費': '50',\r\n  'RA': '50',\r\n  'TA': '50',\r\n  \r\n  // 9A 類：執行業務所得（專業人士／技藝工作者）\r\n  '醫師費': '9A',\r\n  '律師費': '9A',\r\n  '會計師費': '9A',\r\n  '建築師費': '9A',\r\n  '技師費': '9A',\r\n  '地政士費': '9A',\r\n  '程式設計費': '9A',\r\n  '工匠費': '9A',\r\n  '版畫家': '9A',\r\n  '書畫家': '9A',\r\n  '公共安檢人員': '9A',\r\n  '引水人': '9A',\r\n  '專業表演費': '9A',\r\n  '執行業務所得': '9A',\r\n  \r\n  // 9B 類：執行業務所得（稿費／演講／著作）\r\n  '演講費': '9B',\r\n  '演講鐘點費': '9B',\r\n  '口譯費': '9B',\r\n  '稿費': '9B',\r\n  '版稅': '9B',\r\n  '著作費': '9B',\r\n  '樂譜': '9B',\r\n  '漫畫': '9B',\r\n  '編劇': '9B',\r\n  '作曲': '9B',\r\n  '審稿費': '9B',\r\n  '稿件出版費': '9B',\r\n  '論文指導費': '9B',\r\n  '論文潤稿費': '9B',\r\n  '論文編撰費': '9B',\r\n  \r\n  // 51 類：租賃所得\r\n  '民宿租金': '51',\r\n  '固定資產租賃': '51',\r\n  '非固定資產租賃': '51',\r\n  '租船費': '51',\r\n  '參展費': '51',\r\n  '租金': '51',\r\n  \r\n  // 53 類：權利金所得\r\n  '權利金': '53',\r\n  \r\n  // 91 類：競技競賽／機會中獎所得\r\n  '機會中獎': '91',\r\n  '競技競賽獎金': '91',\r\n  '競賽獎金': '91',\r\n  \r\n  // 92 類：其他所得\r\n  '搬遷救濟金': '92',\r\n  '和解金': '92',\r\n  '租車費': '92',\r\n  '贈品': '92',\r\n  '演出費': '92',\r\n  '其他所得': '92',\r\n  \r\n  // 93 類：退職所得\r\n  '退休金': '93',\r\n  '資遣費': '93',\r\n  '離職金': '93',\r\n  '退職補償金': '93',\r\n  '退職服務獎勵金': '93',\r\n  '撫卹金': '93',\r\n  '養老金': '93',\r\n  \r\n  // 95 類：政府補助款\r\n  '政府補助款': '95',\r\n  '科技部補助': '95',\r\n  '千里馬計畫': '95',\r\n  \r\n  // 97 類：受贈所得\r\n  '受贈所得': '97',\r\n  \r\n  // 00 類：免稅項目\r\n  '慰問金': '00',\r\n  '急難救助金': '00',\r\n  '獎學金': '00',\r\n  '退費': '00',\r\n  '體育競賽獎學金': '00',\r\n  '免稅項目': '00',\r\n} as const;\r\n\r\n// 所得類別代號說明\r\nexport const INCOME_CATEGORY_DESCRIPTIONS: Record<string, { name: string; description: string }> = {\r\n  '50': {\r\n    name: '薪資所得',\r\n    description: '受僱關係下的報酬，包括薪水、工資、津貼、鐘點費、兼職酬金、因職務發生的補助等',\r\n  },\r\n  '9A': {\r\n    name: '執行業務所得（專業人士）',\r\n    description: '具備專業職照或以技術自營者提供專業服務的收入',\r\n  },\r\n  '9B': {\r\n    name: '執行業務所得（稿費／演講）',\r\n    description: '以稿件、著作、創作、演講等方式提供專業內容的收入',\r\n  },\r\n  '51': {\r\n    name: '租賃所得',\r\n    description: '出租資產取得的收入',\r\n  },\r\n  '53': {\r\n    name: '權利金所得',\r\n    description: '授權他人使用專利、著作、商標等取得的權利金',\r\n  },\r\n  '91': {\r\n    name: '競技競賽／機會中獎所得',\r\n    description: '抽獎、摸彩及特定競賽取得的獎金或獎品',\r\n  },\r\n  '92': {\r\n    name: '其他所得',\r\n    description: '不屬於薪資、稿費、執行業務、租金、退職等類的其他收入',\r\n  },\r\n  '93': {\r\n    name: '退職所得',\r\n    description: '退休金、資遣費、離職金、非保險給付之養老金等',\r\n  },\r\n  '95': {\r\n    name: '政府補助款',\r\n    description: '政府計畫性補助，分為實報實銷與非實報',\r\n  },\r\n  '97': {\r\n    name: '受贈所得',\r\n    description: '無償取得的贈與或補助',\r\n  },\r\n  '00': {\r\n    name: '免稅項目',\r\n    description: '依法免稅或性質上不列入所得課稅的款項',\r\n  },\r\n};\r\n\r\n// 稅率設定（114年1月1日起適用）\r\nexport const TAX_RATES = {\r\n  // 非居住者固定薪資\r\n  NON_RESIDENT_SALARY: {\r\n    LOW_THRESHOLD: 42885, // 基本工資1.5倍\r\n    LOW_RATE: 0.06, // 6%\r\n    HIGH_RATE: 0.18, // 18%\r\n  },\r\n  // 居住者按薪資所得扣繳稅額表（需要查表，這裡先提供基本邏輯）\r\n  RESIDENT_SALARY: {\r\n    // 需要根據薪資所得扣繳稅額表計算\r\n  },\r\n} as const;\r\n\r\n/**\r\n * 根據扣繳稅額回推預估總收入\r\n * @param withholdingTax 扣繳稅額\r\n * @param formatCode 格式代號\r\n * @param isResident 是否為居住者（預設為true）\r\n * @param totalAmount 給付總額（如果已知，可用於驗證）\r\n * @returns 預估總收入\r\n */\r\nexport function calculateEstimatedTotalIncome(\r\n  withholdingTax: number,\r\n  formatCode: string,\r\n  isResident: boolean = true,\r\n  totalAmount?: number\r\n): number | null {\r\n  if (!withholdingTax || withholdingTax <= 0) {\r\n    return null;\r\n  }\r\n\r\n  // 如果已經有給付總額，直接返回\r\n  if (totalAmount && totalAmount > 0) {\r\n    return totalAmount;\r\n  }\r\n\r\n  // 如果是非居住者的固定薪資（格式代號50）\r\n  if (!isResident && formatCode === '50') {\r\n    const { LOW_THRESHOLD, LOW_RATE, HIGH_RATE } = TAX_RATES.NON_RESIDENT_SALARY;\r\n    \r\n    // 先假設是低稅率（6%）\r\n    const estimatedLow = withholdingTax / LOW_RATE;\r\n    \r\n    // 如果估算金額超過閾值，則使用高稅率（18%）\r\n    if (estimatedLow > LOW_THRESHOLD) {\r\n      return withholdingTax / HIGH_RATE;\r\n    }\r\n    \r\n    // 如果估算金額在閾值以下，但扣繳稅額可能來自累計超過閾值的情況\r\n    // 需要考慮補扣的情況（12%的差額）\r\n    // 這裡簡化處理，返回低稅率估算值\r\n    return estimatedLow;\r\n  }\r\n\r\n  // 居住者的固定薪資（格式代號50）\r\n  // 需要查薪資所得扣繳稅額表，這裡提供簡化估算\r\n  // 一般來說，居住者的扣繳率較低，約在5-12%之間\r\n  if (isResident && formatCode === '50') {\r\n    // 使用平均扣繳率估算（約8%）\r\n    // 實際應該查表，這裡提供粗略估算\r\n    return withholdingTax / 0.08;\r\n  }\r\n\r\n  // 格式代號9A、9B（執行業務所得、稿費等）\r\n  // 一般扣繳率為10%\r\n  if (formatCode === '9A' || formatCode === '9B') {\r\n    return withholdingTax / 0.10;\r\n  }\r\n\r\n  // 51 類租賃所得，扣繳率為10%\r\n  if (formatCode === '51') {\r\n    return withholdingTax / 0.10;\r\n  }\r\n\r\n  // 53 類權利金所得，扣繳率為20%\r\n  if (formatCode === '53') {\r\n    return withholdingTax / 0.20;\r\n  }\r\n\r\n  // 91 類競技競賽／機會中獎所得，扣繳率為10%\r\n  if (formatCode === '91') {\r\n    return withholdingTax / 0.10;\r\n  }\r\n\r\n  // 92 類其他所得，扣繳率為10%\r\n  if (formatCode === '92') {\r\n    return withholdingTax / 0.10;\r\n  }\r\n\r\n  // 93 類退職所得，需要根據免稅額計算，這裡無法準確回推\r\n  if (formatCode === '93') {\r\n    return null;\r\n  }\r\n\r\n  // 95、97、00 類通常免稅\r\n  if (formatCode === '95' || formatCode === '97' || formatCode === '00') {\r\n    return null;\r\n  }\r\n\r\n  // 其他情況，無法準確估算\r\n  return null;\r\n}\r\n\r\n/**\r\n * 根據類別名稱查找格式代號\r\n * @param category 類別名稱\r\n * @returns 格式代號，如果找不到則返回null\r\n */\r\nexport function getFormatCodeByCategory(category: string): string | null {\r\n  const code = INCOME_CATEGORIES[category as keyof typeof INCOME_CATEGORIES];\r\n  return code || null;\r\n}\r\n\r\n/**\r\n * 根據格式代號獲取類別說明\r\n * @param formatCode 格式代號\r\n * @returns 類別說明物件，如果找不到則返回null\r\n */\r\nexport function getCategoryDescription(formatCode: string): { name: string; description: string } | null {\r\n  return INCOME_CATEGORY_DESCRIPTIONS[formatCode] || null;\r\n}\r\n\r\n/**\r\n * 根據總收入和格式代號計算扣繳稅額\r\n * @param totalAmount 總收入\r\n * @param formatCode 格式代號\r\n * @param isResident 是否為居住者\r\n * @returns 扣繳稅額\r\n */\r\nexport function calculateWithholdingTax(\r\n  totalAmount: number,\r\n  formatCode: string,\r\n  isResident: boolean = true\r\n): number {\r\n  if (!isResident && formatCode === '50') {\r\n    const { LOW_THRESHOLD, LOW_RATE, HIGH_RATE } = TAX_RATES.NON_RESIDENT_SALARY;\r\n    \r\n    if (totalAmount <= LOW_THRESHOLD) {\r\n      return totalAmount * LOW_RATE;\r\n    } else {\r\n      return totalAmount * HIGH_RATE;\r\n    }\r\n  }\r\n\r\n  // 9A、9B 類執行業務所得，一般扣繳率為10%\r\n  if (formatCode === '9A' || formatCode === '9B') {\r\n    return totalAmount * 0.10;\r\n  }\r\n\r\n  // 51 類租賃所得，扣繳率為10%\r\n  if (formatCode === '51') {\r\n    return totalAmount * 0.10;\r\n  }\r\n\r\n  // 53 類權利金所得，扣繳率為20%（居住者）或20%（非居住者）\r\n  if (formatCode === '53') {\r\n    return totalAmount * 0.20;\r\n  }\r\n\r\n  // 91 類競技競賽／機會中獎所得，扣繳率為10%\r\n  if (formatCode === '91') {\r\n    return totalAmount * 0.10;\r\n  }\r\n\r\n  // 92 類其他所得，扣繳率為10%\r\n  if (formatCode === '92') {\r\n    return totalAmount * 0.10;\r\n  }\r\n\r\n  // 93 類退職所得，需要根據免稅額計算\r\n  if (formatCode === '93') {\r\n    // 簡化處理，實際需要根據退職所得免稅額計算\r\n    return 0;\r\n  }\r\n\r\n  // 95、97、00 類通常免稅或特殊處理\r\n  if (formatCode === '95' || formatCode === '97' || formatCode === '00') {\r\n    return 0;\r\n  }\r\n\r\n  // 居住者需要查薪資所得扣繳稅額表，這裡先返回0\r\n  return 0;\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,8OAAC;kBACC,cAAA,8OAAC,2KAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,8OAAC,8KAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,kHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,8OAAC,4KAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 1033, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/components/result-page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { FileText, RotateCcw, Download } from 'lucide-react';\r\nimport { IncomeItem, calculateEstimatedTotalIncome, getCategoryDescription } from '@/lib/income-types';\r\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';\r\n\r\ninterface ResultPageProps {\r\n  incomeItems: IncomeItem[];\r\n  onReset: () => void;\r\n}\r\n\r\nexport default function ResultPage({ incomeItems, onReset }: ResultPageProps) {\r\n  const totalAmount = incomeItems.reduce((sum, item) => sum + item.totalAmount, 0);\r\n  const totalIncome = incomeItems.reduce((sum, item) => sum + item.incomeAmount, 0);\r\n  const totalWithholdingTax = incomeItems.reduce(\r\n    (sum, item) => sum + (item.withholdingTax || 0),\r\n    0\r\n  );\r\n\r\n  // 格式化金額顯示\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('zh-TW', {\r\n      style: 'currency',\r\n      currency: 'TWD',\r\n      minimumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen px-4 py-8\">\r\n      <div className=\"w-full max-w-6xl space-y-6\">\r\n        {/* Header Card */}\r\n        <Card className=\"p-8 border border-border shadow-lg bg-card\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-3xl font-bold text-foreground mb-2\">所得清單辨識結果</h1>\r\n            <p className=\"text-muted-foreground\">掃描完成，以下為您的所得清單資訊</p>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Summary Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          {/* Total Items Card */}\r\n          <Card className=\"p-6 border border-border shadow-md bg-primary/5\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm text-muted-foreground font-medium mb-2\">所得項目總數</p>\r\n              <p className=\"text-4xl font-bold text-primary\">{incomeItems.length}</p>\r\n              <p className=\"text-xs text-muted-foreground mt-2\">筆</p>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Total Amount Card */}\r\n          <Card className=\"p-6 border border-border shadow-md bg-blue-50 dark:bg-blue-950/20\">\r\n            <div className=\"flex flex-col items-center gap-2\">\r\n              <FileText className=\"w-8 h-8 text-blue-600 dark:text-blue-400\" />\r\n              <div className=\"text-center\">\r\n                <p className=\"text-sm text-muted-foreground font-medium mb-1\">給付總額</p>\r\n                <p className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                  {formatCurrency(totalAmount)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Total Income Card */}\r\n          <Card className=\"p-6 border border-border shadow-md bg-green-50 dark:bg-green-950/20\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm text-muted-foreground font-medium mb-2\">所得總額</p>\r\n              <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\r\n                {formatCurrency(totalIncome)}\r\n              </p>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Total Tax Card */}\r\n          <Card className=\"p-6 border border-border shadow-md bg-amber-50 dark:bg-amber-950/20\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm text-muted-foreground font-medium mb-2\">扣繳稅額</p>\r\n              <p className=\"text-2xl font-bold text-amber-600 dark:text-amber-400\">\r\n                {formatCurrency(totalWithholdingTax)}\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Details Table */}\r\n        <Card className=\"p-6 border border-border shadow-md\">\r\n          <h2 className=\"text-lg font-semibold text-foreground mb-4\">所得清單詳情</h2>\r\n          <div className=\"overflow-x-auto\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>所得人姓名</TableHead>\r\n                  <TableHead>類別</TableHead>\r\n                  <TableHead>格式代號</TableHead>\r\n                  <TableHead className=\"text-right\">給付總額</TableHead>\r\n                  <TableHead className=\"text-right\">所得額</TableHead>\r\n                  <TableHead>扣繳單位</TableHead>\r\n                  <TableHead className=\"text-right\">扣繳稅額</TableHead>\r\n                  <TableHead className=\"text-right\">預估總收入</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {incomeItems.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} className=\"text-center text-muted-foreground\">\r\n                      無所得資料\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  incomeItems.map((item, index) => {\r\n                    // 如果有扣繳稅額，計算預估總收入\r\n                    const estimatedTotal =\r\n                      item.withholdingTax && item.formatCode\r\n                        ? calculateEstimatedTotalIncome(\r\n                            item.withholdingTax,\r\n                            item.formatCode,\r\n                            true,\r\n                            item.totalAmount\r\n                          )\r\n                        : item.totalAmount || null;\r\n\r\n                    const categoryDesc = getCategoryDescription(item.formatCode);\r\n\r\n                    return (\r\n                      <TableRow key={index}>\r\n                        <TableCell className=\"font-medium\">{item.recipientName}</TableCell>\r\n                        <TableCell>{item.category}</TableCell>\r\n                        <TableCell>\r\n                          <Tooltip>\r\n                            <TooltipTrigger asChild>\r\n                              <span className=\"cursor-help underline decoration-dotted\">\r\n                                {item.formatCode}\r\n                              </span>\r\n                            </TooltipTrigger>\r\n                            <TooltipContent className=\"max-w-xs\">\r\n                              {categoryDesc ? (\r\n                                <div>\r\n                                  <p className=\"font-semibold mb-1\">{categoryDesc.name}</p>\r\n                                  <p className=\"text-xs\">{categoryDesc.description}</p>\r\n                                </div>\r\n                              ) : (\r\n                                <p>格式代號：{item.formatCode}</p>\r\n                              )}\r\n                            </TooltipContent>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          {formatCurrency(item.totalAmount)}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          {formatCurrency(item.incomeAmount)}\r\n                        </TableCell>\r\n                        <TableCell>{item.withholdingUnit}</TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          {item.withholdingTax\r\n                            ? formatCurrency(item.withholdingTax)\r\n                            : '-'}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          {estimatedTotal ? formatCurrency(estimatedTotal) : '-'}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Summary Card */}\r\n        <Card className=\"p-6 border border-border shadow-md\">\r\n          <h2 className=\"text-lg font-semibold text-foreground mb-4\">統計摘要</h2>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between items-center p-3 bg-muted/30 rounded-lg\">\r\n              <span className=\"text-foreground flex items-center gap-2\">\r\n                <FileText className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                給付總額\r\n              </span>\r\n              <span className=\"font-bold text-lg text-foreground\">\r\n                {formatCurrency(totalAmount)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center p-3 bg-muted/30 rounded-lg\">\r\n              <span className=\"text-foreground\">所得總額</span>\r\n              <span className=\"font-bold text-lg text-green-600 dark:text-green-400\">\r\n                {formatCurrency(totalIncome)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center p-3 bg-muted/30 rounded-lg\">\r\n              <span className=\"text-foreground\">扣繳稅額</span>\r\n              <span className=\"font-bold text-lg text-amber-600 dark:text-amber-400\">\r\n                {formatCurrency(totalWithholdingTax)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center p-3 bg-primary/10 rounded-lg\">\r\n              <span className=\"text-foreground font-medium\">所得項目總數</span>\r\n              <span className=\"font-bold text-lg text-primary\">{incomeItems.length} 筆</span>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex gap-4 pt-4\">\r\n          <Button\r\n            onClick={onReset}\r\n            variant=\"outline\"\r\n            size=\"lg\"\r\n            className=\"flex-1\"\r\n          >\r\n            <RotateCcw className=\"w-4 h-4 mr-2\" />\r\n            重新上傳\r\n          </Button>\r\n          <Button\r\n            size=\"lg\"\r\n            className=\"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\"\r\n          >\r\n            <Download className=\"w-4 h-4 mr-2\" />\r\n            匯出資料\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1727, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/lib/income-parser.ts"],"sourcesContent":["// 所得清單解析工具\r\n// 這個檔案用於從上傳的檔案中解析所得清單數據\r\n\r\nimport { IncomeItem, getFormatCodeByCategory } from './income-types';\r\n\r\n/**\r\n * 從檔案內容解析所得清單\r\n * 這裡提供一個基本的解析框架，實際的解析邏輯需要根據檔案格式實作\r\n */\r\nexport async function parseIncomeFile(file: File): Promise<IncomeItem[]> {\r\n  // 根據檔案類型選擇不同的解析方式\r\n  const fileType = file.name.split('.').pop()?.toLowerCase();\r\n\r\n  switch (fileType) {\r\n    case 'pdf':\r\n      return parsePDFFile(file);\r\n    case 'xlsx':\r\n    case 'xls':\r\n      return parseExcelFile(file);\r\n    case 'csv':\r\n      return parseCSVFile(file);\r\n    case 'txt':\r\n      return parseTXTFile(file);\r\n    default:\r\n      throw new Error('不支援的檔案格式');\r\n  }\r\n}\r\n\r\n/**\r\n * 解析PDF檔案\r\n * 注意：實際實作需要使用PDF解析庫（如pdf-parse）\r\n */\r\nasync function parsePDFFile(file: File): Promise<IncomeItem[]> {\r\n  // TODO: 實作PDF解析邏輯\r\n  // 這裡返回模擬數據作為範例\r\n  return generateMockData();\r\n}\r\n\r\n/**\r\n * 解析Excel檔案\r\n * 注意：實際實作需要使用Excel解析庫（如xlsx）\r\n */\r\nasync function parseExcelFile(file: File): Promise<IncomeItem[]> {\r\n  // TODO: 實作Excel解析邏輯\r\n  return generateMockData();\r\n}\r\n\r\n/**\r\n * 解析CSV檔案\r\n */\r\nasync function parseCSVFile(file: File): Promise<IncomeItem[]> {\r\n  // TODO: 實作CSV解析邏輯\r\n  return generateMockData();\r\n}\r\n\r\n/**\r\n * 解析TXT檔案\r\n */\r\nasync function parseTXTFile(file: File): Promise<IncomeItem[]> {\r\n  // TODO: 實作TXT解析邏輯\r\n  return generateMockData();\r\n}\r\n\r\n/**\r\n * 生成模擬數據（用於測試）\r\n */\r\nfunction generateMockData(): IncomeItem[] {\r\n  return [\r\n    {\r\n      category: '固定薪資',\r\n      formatCode: '50',\r\n      totalAmount: 50000,\r\n      recipientName: '王小明',\r\n      incomeAmount: 50000,\r\n      withholdingUnit: 'XX大學',\r\n      withholdingTax: 4000,\r\n      estimatedTotalIncome: 50000,\r\n    },\r\n    {\r\n      category: '兼職所得',\r\n      formatCode: '50',\r\n      totalAmount: 30000,\r\n      recipientName: '李美麗',\r\n      incomeAmount: 30000,\r\n      withholdingUnit: 'XX大學',\r\n      withholdingTax: 2400,\r\n      estimatedTotalIncome: 30000,\r\n    },\r\n    {\r\n      category: '稿費',\r\n      formatCode: '9B',\r\n      totalAmount: 15000,\r\n      recipientName: '張三',\r\n      incomeAmount: 15000,\r\n      withholdingUnit: 'XX出版社',\r\n      withholdingTax: 1500,\r\n      estimatedTotalIncome: 15000,\r\n    },\r\n    {\r\n      category: '演講費',\r\n      formatCode: '9B',\r\n      totalAmount: 8000,\r\n      recipientName: '陳教授',\r\n      incomeAmount: 8000,\r\n      withholdingUnit: 'XX學會',\r\n      withholdingTax: 800,\r\n      estimatedTotalIncome: 8000,\r\n    },\r\n    {\r\n      category: '顧問費',\r\n      formatCode: '50',\r\n      totalAmount: 25000,\r\n      recipientName: '林工程師',\r\n      incomeAmount: 25000,\r\n      withholdingUnit: 'XX科技公司',\r\n      withholdingTax: 2000,\r\n      estimatedTotalIncome: 25000,\r\n    },\r\n    {\r\n      category: '租金',\r\n      formatCode: '51',\r\n      totalAmount: 20000,\r\n      recipientName: '黃先生',\r\n      incomeAmount: 20000,\r\n      withholdingUnit: 'XX物業管理',\r\n      withholdingTax: 2000,\r\n      estimatedTotalIncome: 20000,\r\n    },\r\n  ];\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,WAAW;AACX,wBAAwB;;;;;AAQjB,eAAe,gBAAgB,IAAU;IAC9C,kBAAkB;IAClB,MAAM,WAAW,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI;IAE7C,OAAQ;QACN,KAAK;YACH,OAAO,aAAa;QACtB,KAAK;QACL,KAAK;YACH,OAAO,eAAe;QACxB,KAAK;YACH,OAAO,aAAa;QACtB,KAAK;YACH,OAAO,aAAa;QACtB;YACE,MAAM,IAAI,MAAM;IACpB;AACF;AAEA;;;CAGC,GACD,eAAe,aAAa,IAAU;IACpC,kBAAkB;IAClB,eAAe;IACf,OAAO;AACT;AAEA;;;CAGC,GACD,eAAe,eAAe,IAAU;IACtC,oBAAoB;IACpB,OAAO;AACT;AAEA;;CAEC,GACD,eAAe,aAAa,IAAU;IACpC,kBAAkB;IAClB,OAAO;AACT;AAEA;;CAEC,GACD,eAAe,aAAa,IAAU;IACpC,kBAAkB;IAClB,OAAO;AACT;AAEA;;CAEC,GACD,SAAS;IACP,OAAO;QACL;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;QACA;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;QACA;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;QACA;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;QACA;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;QACA;YACE,UAAU;YACV,YAAY;YACZ,aAAa;YACb,eAAe;YACf,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,sBAAsB;QACxB;KACD;AACH"}},
    {"offset": {"line": 1847, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/eGroup/OneDrive/%E6%A1%8C%E9%9D%A2/git/%E6%89%80%E5%BE%97%E6%B8%85%E5%96%AE/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport UploadPage from '@/components/upload-page';\r\nimport LoadingPage from '@/components/loading-page';\r\nimport ResultPage from '@/components/result-page';\r\nimport { IncomeItem } from '@/lib/income-types';\r\nimport { parseIncomeFile } from '@/lib/income-parser';\r\n\r\ntype AppStep = 'upload' | 'loading' | 'result';\r\n\r\nexport default function Home() {\r\n  const [step, setStep] = useState<AppStep>('upload');\r\n  const [incomeItems, setIncomeItems] = useState<IncomeItem[]>([]);\r\n\r\n  const handleFileSelect = async (file: File | null) => {\r\n    setStep('loading');\r\n\r\n    try {\r\n      let parsedItems;\r\n      \r\n      if (file) {\r\n        // 如果有檔案，解析檔案\r\n        parsedItems = await parseIncomeFile(file);\r\n      } else {\r\n        // 如果沒有檔案，直接使用模擬數據\r\n        // 這裡可以替換為實際的預設檔案處理邏輯\r\n        const mockFile = new File([''], 'default-income-list.xlsx', { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n        parsedItems = await parseIncomeFile(mockFile);\r\n      }\r\n      \r\n      // 模擬處理時間（實際解析可能需要一些時間）\r\n      await new Promise((resolve) => setTimeout(resolve, 2000));\r\n      \r\n      setIncomeItems(parsedItems);\r\n      setStep('result');\r\n    } catch (error) {\r\n      console.error('檔案解析錯誤:', error);\r\n      alert('檔案解析失敗，請檢查檔案格式');\r\n      setStep('upload');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-background\">\r\n      {step === 'upload' && <UploadPage onFileSelect={handleFileSelect} />}\r\n      {step === 'loading' && <LoadingPage />}\r\n      {step === 'result' && (\r\n        <ResultPage\r\n          incomeItems={incomeItems}\r\n          onReset={() => {\r\n            setStep('upload');\r\n            setIncomeItems([]);\r\n          }}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAU;IAC1C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAe,EAAE;IAE/D,MAAM,mBAAmB,OAAO;QAC9B,QAAQ;QAER,IAAI;YACF,IAAI;YAEJ,IAAI,MAAM;gBACR,aAAa;gBACb,cAAc,MAAM,IAAA,0IAAe,EAAC;YACtC,OAAO;gBACL,kBAAkB;gBAClB,qBAAqB;gBACrB,MAAM,WAAW,IAAI,KAAK;oBAAC;iBAAG,EAAE,4BAA4B;oBAAE,MAAM;gBAAoE;gBACxI,cAAc,MAAM,IAAA,0IAAe,EAAC;YACtC;YAEA,uBAAuB;YACvB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;YAEnD,eAAe;YACf,QAAQ;QACV,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,WAAW;YACzB,MAAM;YACN,QAAQ;QACV;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;YACb,SAAS,0BAAY,8OAAC,wIAAU;gBAAC,cAAc;;;;;;YAC/C,SAAS,2BAAa,8OAAC,yIAAW;;;;;YAClC,SAAS,0BACR,8OAAC,wIAAU;gBACT,aAAa;gBACb,SAAS;oBACP,QAAQ;oBACR,eAAe,EAAE;gBACnB;;;;;;;;;;;;AAKV"}}]
}